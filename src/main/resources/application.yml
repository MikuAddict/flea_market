server:
  port: 7023

spring:
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 50MB
  datasource:
    url: jdbc:mariadb://localhost:3307/flea_market_db?useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Shanghai
    username: root
    password: 440281
    driver-class-name: org.mariadb.jdbc.Driver
# MyBatis Plus配置
mybatis-plus:
  # mapper-locations: classpath*:/mapper/**/*.xml # 默认会扫描classpath下的mapper目录下的所有xml文件
  # type-aliases-package: com.zhp.flea_market.model.entity
  configuration:
    map-underscore-to-camel-case: true # 开启驼峰命名转换
    cache-enabled: false # 禁用二级缓存
    call-setters-on-nulls: true # 解决map返回时，值为null的字段不返回的问题
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl # 打印sql语句
  global-config:
    db-config:
      id-type: auto # 主键自增
      logic-delete-field: deleted # 逻辑删除字段名
      logic-delete-value: 1 # 逻辑删除已删除值
      logic-not-delete-value: 0 # 逻辑删除未删除值
  profiles:
    active: dev
  security:
    user:
      name: admin
      password: admin
      roles: ADMIN

# 图片存储配置
image:
  storage:
    base-path: "./uploads/images"
    base-url: "/api/images"
    max-file-size: 10
    allowed-formats: ["jpg", "jpeg", "png", "webp", "gif"]
    enable-compression: true
    compression-quality: 0.8

#jwt config
jwt:
  tokenHeader: Authorization #JWT存储的请求头
  secret: ${JWT_SECRET:flea-market-jwt-secret-key-2024-strong-security} #jwt加解密使用的密钥，至少32字符，优先使用环境变量
  expiration: 36000000 #JWT的超时时间
  tokenHead: Bearer #JWT负载中拿到的开头

# 接口文档配置
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    operations-sorter: method
    tags-sorter: alpha